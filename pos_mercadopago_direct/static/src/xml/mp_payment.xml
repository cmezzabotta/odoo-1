<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <templates id="template" xml:space="preserve">
    <t t-inherit="point_of_sale.PaymentScreenButtons" t-inherit-mode="extension">
      <xpath expr="//div[contains(@class, 'payment-buttons')]" position="inside">
        <t t-if="props.paymentMethods.some(pm => pm.mp_enabled)">
          <button class="btn btn-primary" t-on-click="() => this._onClickMercadoPago()">
            <i class="fa fa-qrcode me-1"/> Mercado Pago
          </button>
        </t>
      </xpath>
    </t>
    <t t-name="pos_mercadopago_direct.MercadoPagoQRPopup" owl="1">
      <MercadoPagoQRPopup>
        <div class="mp-qr-popup">
          <div class="mp-qr-popup__info">
            <h3 class="mb-2">Escane치 y pag치</h3>
            <t t-if="props.orderName">
              <p class="mb-1">Pedido: <strong t-esc="props.orderName"/></p>
            </t>
            <t t-if="props.amount">
              <p class="mb-2">Importe: <strong>$<t t-esc="props.amount.toFixed(2)"/></strong></p>
            </t>
            <p class="text-muted">Mostr치 este c칩digo al cliente para que lo escanee con Mercado Pago.</p>
          </div>
          <canvas t-ref="canvas" class="mp-qr-popup__canvas" width="280" height="280"/>
        </div>
      </MercadoPagoQRPopup>
    </t>
  </templates>
</odoo>
